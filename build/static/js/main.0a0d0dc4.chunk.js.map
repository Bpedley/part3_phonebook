{"version":3,"sources":["components/SearchFilter.js","components/PersonForm.js","components/Person.js","components/Persons.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["SearchFilter","searchValue","handleInputChange","name","value","onChange","PersonForm","handleSubmit","newPerson","number","onSubmit","Person","person","id","deletePerson","style","display","onClick","Persons","filteredPersons","length","map","key","classNames","require","Notification","error","success","className","baseUrl","axios","get","then","response","data","newObject","post","delete","put","App","useState","persons","setPersons","searchFilter","setSearchFilter","successMessage","setSuccessMessage","errorMessage","setErrorMessage","setNewPerson","useEffect","personService","initialPersons","target","filter","e","toLowerCase","includes","preventDefault","alert","newPersonData","findPerson","find","window","confirm","returnedPerson","setTimeout","catch","err","console","log","concat","changedPersons","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0a0d0dc4.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst SearchFilter = ({ searchValue, handleInputChange }) => {\r\n  return (\r\n    <label>\r\n      filter shown with\r\n      <input name=\"filter\" value={searchValue} onChange={handleInputChange} />\r\n    </label>\r\n  );\r\n};\r\n\r\nexport default SearchFilter;\r\n","import React from \"react\";\r\n\r\nconst PersonForm = ({\r\n  handleSubmit,\r\n  handleInputChange,\r\n  newPerson: { name, number }\r\n}) => {\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <label>\r\n        name:\r\n        <input name=\"name\" value={name} onChange={handleInputChange} />\r\n      </label>\r\n      <br />\r\n      <label>\r\n        number:\r\n        <input name=\"number\" value={number} onChange={handleInputChange} />\r\n      </label>\r\n      <br />\r\n      <button>add</button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default PersonForm;\r\n","import React from \"react\";\r\n\r\nconst Person = ({ person: { name, number, id }, deletePerson }) => {\r\n  return (\r\n    <div>\r\n      <p style={{ display: \"inline-block\" }}>\r\n        {name} {number}\r\n      </p>\r\n      <button onClick={() => deletePerson(id)}>delete</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Person;\r\n","import React from \"react\";\r\nimport Person from \"./Person\";\r\n\r\nconst Persons = ({ filteredPersons, deletePerson }) => {\r\n  return (\r\n    <div>\r\n      {filteredPersons.length ? (\r\n        filteredPersons.map(person => (\r\n          <Person key={person.id} person={person} deletePerson={deletePerson} />\r\n        ))\r\n      ) : (\r\n        <p>No matches</p>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Persons;\r\n","import React from \"react\";\r\nvar classNames = require(\"classnames\");\r\n\r\nconst Notification = ({ error, success }) => {\r\n  if (error === null && success === null) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className={classNames(\"notification\", { error, success })}>\r\n      {error ? error : success}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Notification;\r\n","import axios from \"axios\";\r\nconst baseUrl = \"/api/persons\";\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl);\r\n  return request.then(response => response.data);\r\n};\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject);\r\n  return request.then(response => response.data);\r\n};\r\n\r\nconst remove = id => {\r\n  return axios.delete(`${baseUrl}/${id}`);\r\n};\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\r\n  return request.then(response => response.data);\r\n};\r\n\r\nexport default { getAll, create, remove, update };\r\n","import React, { useState, useEffect } from \"react\";\r\nimport SearchFilter from \"./components/SearchFilter\";\r\nimport PersonForm from \"./components/PersonForm\";\r\nimport Persons from \"./components/Persons\";\r\nimport Notification from \"./components/Notification\";\r\nimport personService from \"./services/persons\";\r\nimport \"./App.css\";\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([]);\r\n  const [searchFilter, setSearchFilter] = useState(\"\");\r\n  const [successMessage, setSuccessMessage] = useState(null);\r\n  const [errorMessage, setErrorMessage] = useState(null);\r\n  const [newPerson, setNewPerson] = useState({\r\n    name: \"\",\r\n    number: \"\"\r\n  });\r\n\r\n  useEffect(() => {\r\n    personService.getAll().then(initialPersons => {\r\n      setPersons(initialPersons);\r\n    });\r\n  }, []);\r\n\r\n  const handleInputChange = ({ target: { name, value } }) => {\r\n    if (name === \"filter\") {\r\n      setSearchFilter(value);\r\n    } else {\r\n      setNewPerson({\r\n        ...newPerson,\r\n        [name]: value\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    const { name, number } = newPerson;\r\n\r\n    if (!name || !number) return alert(\"One or more fields are empty\");\r\n\r\n    const newPersonData = { name, number };\r\n\r\n    const findPerson = persons.find(\r\n      person => person.name.toLowerCase() === name.toLowerCase()\r\n    );\r\n\r\n    if (findPerson && findPerson.number !== number) {\r\n      const answer = window.confirm(\r\n        `${findPerson.name} is already added to phonebook, replace the old number with a new one?`\r\n      );\r\n      if (answer) {\r\n        personService\r\n          .update(findPerson.id, newPersonData)\r\n          .then(returnedPerson => {\r\n            setPersons(\r\n              persons.map(person =>\r\n                person.id === returnedPerson.id ? returnedPerson : person\r\n              )\r\n            );\r\n            setNewPerson({ name: \"\", number: \"\" });\r\n            setSuccessMessage(\r\n              `Phone number of ${returnedPerson.name} changed successfully`\r\n            );\r\n            setTimeout(() => setSuccessMessage(null), 2000);\r\n          })\r\n          .catch(err => {\r\n            setPersons(persons.filter(person => person.id !== findPerson.id));\r\n            setErrorMessage(\r\n              `the person '${findPerson.name}' was already deleted from server`\r\n            );\r\n            console.log(err);\r\n            setTimeout(() => setErrorMessage(null), 2000);\r\n          });\r\n      } else {\r\n        return;\r\n      }\r\n    } else if (findPerson && findPerson.number === number) {\r\n      return alert(`${findPerson.name} is already in the phonebook`);\r\n    } else {\r\n      personService.create(newPersonData).then(returnedPerson => {\r\n        setPersons(persons.concat(returnedPerson));\r\n        setNewPerson({ name: \"\", number: \"\" });\r\n        setSuccessMessage(`Added ${returnedPerson.name} to phonebook`);\r\n        setTimeout(() => setSuccessMessage(null), 2000);\r\n      });\r\n    }\r\n  };\r\n\r\n  const deletePerson = id => {\r\n    personService.remove(id).then(() => {\r\n      personService.getAll().then(changedPersons => {\r\n        setPersons(changedPersons);\r\n      });\r\n    });\r\n  };\r\n\r\n  const filteredPersons = searchFilter\r\n    ? persons.filter(e =>\r\n        e.name.toLowerCase().includes(searchFilter.toLowerCase())\r\n      )\r\n    : persons;\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <h2>Phonebook</h2>\r\n      <Notification error={errorMessage} success={successMessage} />\r\n      <h3>Add a new</h3>\r\n      <PersonForm\r\n        newPerson={newPerson}\r\n        handleSubmit={handleSubmit}\r\n        handleInputChange={handleInputChange}\r\n      />\r\n      <h3>Numbers</h3>\r\n      <SearchFilter\r\n        searchValue={searchFilter}\r\n        handleInputChange={handleInputChange}\r\n      />\r\n      <Persons filteredPersons={filteredPersons} deletePerson={deletePerson} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}