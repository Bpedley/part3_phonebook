(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{19:function(e,n,t){e.exports=t(44)},24:function(e,n,t){},43:function(e,n,t){},44:function(e,n,t){"use strict";t.r(n);var a=t(0),c=t.n(a),r=t(17),o=t.n(r),u=(t(24),t(18)),l=t(6),i=t(7),m=t(2),s=function(e){var n=e.searchValue,t=e.handleInputChange;return c.a.createElement("label",null,"filter contacts",c.a.createElement("input",{name:"filter",value:n,onChange:t}))},f=function(e){var n=e.handleSubmit,t=e.handleInputChange,a=e.newContact,r=a.name,o=a.number;return c.a.createElement("form",{onSubmit:n},c.a.createElement("label",null,"name:",c.a.createElement("input",{name:"name",value:r,onChange:t})),c.a.createElement("br",null),c.a.createElement("label",null,"number:",c.a.createElement("input",{name:"number",value:o,onChange:t})),c.a.createElement("br",null),c.a.createElement("button",null,"add"))},d=function(e){var n=e.contact,t=n.name,a=n.number,r=n.id,o=e.deleteContact;return c.a.createElement("div",null,c.a.createElement("p",{style:{display:"inline-block"}},t," ",a),c.a.createElement("button",{onClick:function(){return o(r)}},"delete"))},b=function(e){var n=e.filteredContacts,t=e.deleteContact;return c.a.createElement("div",null,n.length?n.map((function(e){return c.a.createElement(d,{key:e.id,contact:e,deleteContact:t})})):c.a.createElement("p",null,"No matches"))},h=t(25),p=function(e){var n=e.error,t=e.success;return null===n&&null===t?null:c.a.createElement("div",{className:h("notification",{error:n,success:t})},n||t)},E=t(4),C=t.n(E),v="/api/contacts",j=function(){return C.a.get(v).then((function(e){return e.data}))},O=function(e){return C.a.post(v,e).then((function(e){return e.data}))},g=function(e){return C.a.delete("".concat(v,"/").concat(e))},w=function(e,n){return C.a.put("".concat(v,"/").concat(e),n).then((function(e){return e.data}))},k=(t(43),function(){var e=Object(a.useState)([]),n=Object(m.a)(e,2),t=n[0],r=n[1],o=Object(a.useState)(""),d=Object(m.a)(o,2),h=d[0],E=d[1],C=Object(a.useState)(null),v=Object(m.a)(C,2),k=v[0],S=v[1],y=Object(a.useState)(null),I=Object(m.a)(y,2),L=I[0],T=I[1],N=Object(a.useState)({name:"",number:""}),P=Object(m.a)(N,2),A=P[0],J=P[1];Object(a.useEffect)((function(){j().then((function(e){r(e)}))}),[]);var V=function(e){var n=e.target,t=n.name,a=n.value;"filter"===t?E(a):J(Object(i.a)(Object(i.a)({},A),{},Object(l.a)({},t,a)))},x=h?t.filter((function(e){return e.name.toLowerCase().includes(h.toLowerCase())})):t;return c.a.createElement("div",{className:"container"},c.a.createElement("h2",null,"Phonebook"),c.a.createElement(p,{error:L,success:k}),c.a.createElement("h3",null,"Add a new contact"),c.a.createElement(f,{newContact:A,handleSubmit:function(e){e.preventDefault();var n=A.name,a=A.number,c={name:n,number:a},o=t.find((function(e){return e.name.toLowerCase()===n.toLowerCase()}));if(o&&o.number===a)return alert("".concat(o.name," and phone number is already in the phonebook"));o&&a?window.confirm("".concat(o.name," is already added to phonebook, replace the old number with a new one?"))&&a&&w(o.id,c).then((function(e){r(t.map((function(n){return n.id===e.id?e:n}))),J({name:"",number:""}),S("Phone number of ".concat(e.name," changed successfully")),setTimeout((function(){S(null)}),5e3)})).catch((function(e){console.log(e),T("Error: ".concat(e.response.data.error)),setTimeout((function(){return T(null)}),5e3)})):O(c).then((function(e){r([].concat(Object(u.a)(t),[e])),J({name:"",number:""}),S("Added ".concat(e.name," to phonebook")),setTimeout((function(){return S(null)}),5e3)})).catch((function(e){console.log(e),T("Error: ".concat(e.response.data.error)),setTimeout((function(){return T(null)}),5e3)}))},handleInputChange:V}),c.a.createElement("h3",null,"Phone numbers"),c.a.createElement(s,{searchValue:h,handleInputChange:V}),c.a.createElement(b,{filteredContacts:x,deleteContact:function(e){g(e).then((function(){j().then((function(e){r(e)}))}))}}))});o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(k,null)),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.a6440ac3.chunk.js.map