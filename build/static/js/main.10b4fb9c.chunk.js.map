{"version":3,"sources":["components/SearchFilter.js","components/ContactForm.js","components/Contact.js","components/Contacts.js","components/Notification.js","services/contacts.js","App.js","index.js"],"names":["SearchFilter","searchValue","handleInputChange","name","value","onChange","ContactForm","handleSubmit","newContact","number","onSubmit","Contact","contact","id","deleteContact","style","display","onClick","Contacts","filteredContacts","length","map","key","classNames","require","Notification","error","success","className","baseUrl","axios","get","then","response","data","newObject","post","delete","put","App","useState","contacts","setContacts","searchFilter","setSearchFilter","successMessage","setSuccessMessage","errorMessage","setErrorMessage","setNewContact","useEffect","contactService","initialContacts","target","filter","e","toLowerCase","includes","preventDefault","newContactData","findContact","find","alert","window","confirm","returnedContact","setTimeout","catch","err","console","log","changedContacts","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"sQAWeA,EATM,SAAC,GAAwC,IAAtCC,EAAqC,EAArCA,YAAaC,EAAwB,EAAxBA,kBACnC,OACE,iDAEE,2BAAOC,KAAK,SAASC,MAAOH,EAAaI,SAAUH,MCkB1CI,EAtBK,SAAC,GAId,IAHLC,EAGI,EAHJA,aACAL,EAEI,EAFJA,kBAEI,IADJM,WAAcL,EACV,EADUA,KAAMM,EAChB,EADgBA,OAEpB,OACE,0BAAMC,SAAUH,GACd,uCAEE,2BAAOJ,KAAK,OAAOC,MAAOD,EAAME,SAAUH,KAE5C,6BACA,yCAEE,2BAAOC,KAAK,SAASC,MAAOK,EAAQJ,SAAUH,KAEhD,6BACA,yCCNSS,EAXC,SAAC,GAAsD,IAAD,IAAnDC,QAAWT,EAAwC,EAAxCA,KAAMM,EAAkC,EAAlCA,OAAQI,EAA0B,EAA1BA,GAAMC,EAAoB,EAApBA,cAChD,OACE,6BACE,uBAAGC,MAAO,CAAEC,QAAS,iBAClBb,EADH,IACUM,GAEV,4BAAQQ,QAAS,kBAAMH,EAAcD,KAArC,YCaSK,EAlBE,SAAC,GAAyC,IAAvCC,EAAsC,EAAtCA,iBAAkBL,EAAoB,EAApBA,cACpC,OACE,6BACGK,EAAiBC,OAChBD,EAAiBE,KAAI,SAAAT,GAAO,OAC1B,kBAAC,EAAD,CACEU,IAAKV,EAAQC,GACbD,QAASA,EACTE,cAAeA,OAInB,2CCdJS,EAAaC,EAAQ,IAcVC,EAZM,SAAC,GAAwB,IAAtBC,EAAqB,EAArBA,MAAOC,EAAc,EAAdA,QAC7B,OAAc,OAAVD,GAA8B,OAAZC,EACb,KAIP,yBAAKC,UAAWL,EAAW,eAAgB,CAAEG,QAAOC,aACjDD,GAAgBC,I,gBCTjBE,EAAU,gBAqBD,EAnBA,WAEb,OADgBC,IAAMC,IAAIF,GACXG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAiB5B,EAdA,SAAAC,GAEb,OADgBL,IAAMM,KAAKP,EAASM,GACrBH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAY5B,EATA,SAAArB,GACb,OAAOiB,IAAMO,OAAN,UAAgBR,EAAhB,YAA2BhB,KAQrB,EALA,SAACA,EAAIsB,GAElB,OADgBL,IAAMQ,IAAN,UAAaT,EAAb,YAAwBhB,GAAMsB,GAC/BH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SCqH5BK,G,MAhIH,WAAO,IAAD,EACgBC,mBAAS,IADzB,mBACTC,EADS,KACCC,EADD,OAEwBF,mBAAS,IAFjC,mBAETG,EAFS,KAEKC,EAFL,OAG4BJ,mBAAS,MAHrC,mBAGTK,EAHS,KAGOC,EAHP,OAIwBN,mBAAS,MAJjC,mBAITO,EAJS,KAIKC,EAJL,OAKoBR,mBAAS,CAC3CrC,KAAM,GACNM,OAAQ,KAPM,mBAKTD,EALS,KAKGyC,EALH,KAUhBC,qBAAU,WACRC,IAAwBnB,MAAK,SAAAoB,GAC3BV,EAAYU,QAEb,IAEH,IAAMlD,EAAoB,SAAC,GAAiC,IAAD,IAA9BmD,OAAUlD,EAAoB,EAApBA,KAAMC,EAAc,EAAdA,MAC9B,WAATD,EACFyC,EAAgBxC,GAEhB6C,EAAc,2BACTzC,GADQ,kBAEVL,EAAOC,MA6ERe,EAAmBwB,EACrBF,EAASa,QAAO,SAAAC,GAAC,OACfA,EAAEpD,KAAKqD,cAAcC,SAASd,EAAaa,kBAE7Cf,EAEJ,OACE,yBAAKb,UAAU,aACb,yCACA,kBAAC,EAAD,CAAcF,MAAOqB,EAAcpB,QAASkB,IAC5C,iDACA,kBAAC,EAAD,CACErC,WAAYA,EACZD,aArFe,SAAAgD,GACnBA,EAAEG,iBADsB,IAGhBvD,EAAiBK,EAAjBL,KAAMM,EAAWD,EAAXC,OAERkD,EAAiB,CAAExD,OAAMM,UAEzBmD,EAAcnB,EAASoB,MAC3B,SAAAjD,GAAO,OAAIA,EAAQT,KAAKqD,gBAAkBrD,EAAKqD,iBAGjD,GAAII,GAAeA,EAAYnD,SAAWA,EACxC,OAAOqD,MAAM,GAAD,OACPF,EAAYzD,KADL,kDAGHyD,GAAenD,EACTsD,OAAOC,QAAP,UACVJ,EAAYzD,KADF,4EAGDM,GACZ0C,EACUS,EAAY/C,GAAI8C,GACvB3B,MAAK,SAAAiC,GACJvB,EACED,EAASpB,KAAI,SAAAT,GAAO,OAClBA,EAAQC,KAAOoD,EAAgBpD,GAAKoD,EAAkBrD,MAG1DqC,EAAc,CAAE9C,KAAM,GAAIM,OAAQ,KAClCqC,EAAkB,mBAAD,OACImB,EAAgB9D,KADpB,0BAGjB+D,YAAW,WACTpB,EAAkB,QACjB,QAEJqB,OAAM,SAAAC,GACLC,QAAQC,IAAIF,GACZ1B,EACED,EAASa,QAAO,SAAA1C,GAAO,OAAIA,EAAQC,KAAO+C,EAAY/C,OAExDmC,EAAgB,mBAAD,OACMY,EAAYzD,KADlB,sCAGf+D,YAAW,kBAAMlB,EAAgB,QAAO,QAI9CG,EACUQ,GACP3B,MAAK,SAAAiC,GACJvB,EAAY,GAAD,mBAAKD,GAAL,CAAewB,KAC1BhB,EAAc,CAAE9C,KAAM,GAAIM,OAAQ,KAClCqC,EAAkB,SAAD,OAAUmB,EAAgB9D,KAA1B,kBACjB+D,YAAW,kBAAMpB,EAAkB,QAAO,QAE3CqB,OAAM,SAAAC,GACLC,QAAQC,IAAIF,GACZpB,EAAgB,UAAD,OAAWoB,EAAInC,SAASC,KAAKR,QAC5CwC,YAAW,kBAAMlB,EAAgB,QAAO,SA2B1C9C,kBAAmBA,IAErB,6CACA,kBAAC,EAAD,CACED,YAAa0C,EACbzC,kBAAmBA,IAErB,kBAAC,EAAD,CACEiB,iBAAkBA,EAClBL,cA/BgB,SAAAD,GACpBsC,EAAsBtC,GAAImB,MAAK,WAC7BmB,IAAwBnB,MAAK,SAAAuC,GAC3B7B,EAAY6B,eCjGpBC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,W","file":"static/js/main.10b4fb9c.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst SearchFilter = ({ searchValue, handleInputChange }) => {\r\n  return (\r\n    <label>\r\n      filter contacts\r\n      <input name=\"filter\" value={searchValue} onChange={handleInputChange} />\r\n    </label>\r\n  );\r\n};\r\n\r\nexport default SearchFilter;\r\n","import React from \"react\";\r\n\r\nconst ContactForm = ({\r\n  handleSubmit,\r\n  handleInputChange,\r\n  newContact: { name, number }\r\n}) => {\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <label>\r\n        name:\r\n        <input name=\"name\" value={name} onChange={handleInputChange} />\r\n      </label>\r\n      <br />\r\n      <label>\r\n        number:\r\n        <input name=\"number\" value={number} onChange={handleInputChange} />\r\n      </label>\r\n      <br />\r\n      <button>add</button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default ContactForm;\r\n","import React from \"react\";\r\n\r\nconst Contact = ({ contact: { name, number, id }, deleteContact }) => {\r\n  return (\r\n    <div>\r\n      <p style={{ display: \"inline-block\" }}>\r\n        {name} {number}\r\n      </p>\r\n      <button onClick={() => deleteContact(id)}>delete</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Contact;\r\n","import React from \"react\";\r\nimport Contact from \"./Contact\";\r\n\r\nconst Contacts = ({ filteredContacts, deleteContact }) => {\r\n  return (\r\n    <div>\r\n      {filteredContacts.length ? (\r\n        filteredContacts.map(contact => (\r\n          <Contact\r\n            key={contact.id}\r\n            contact={contact}\r\n            deleteContact={deleteContact}\r\n          />\r\n        ))\r\n      ) : (\r\n        <p>No matches</p>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Contacts;\r\n","import React from \"react\";\r\nvar classNames = require(\"classnames\");\r\n\r\nconst Notification = ({ error, success }) => {\r\n  if (error === null && success === null) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className={classNames(\"notification\", { error, success })}>\r\n      {error ? error : success}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Notification;\r\n","import axios from \"axios\";\r\nconst baseUrl = \"/api/contacts\";\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl);\r\n  return request.then(response => response.data);\r\n};\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject);\r\n  return request.then(response => response.data);\r\n};\r\n\r\nconst remove = id => {\r\n  return axios.delete(`${baseUrl}/${id}`);\r\n};\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\r\n  return request.then(response => response.data);\r\n};\r\n\r\nexport default { getAll, create, remove, update };\r\n","import React, { useState, useEffect } from \"react\";\r\nimport SearchFilter from \"./components/SearchFilter\";\r\nimport ContactForm from \"./components/ContactForm\";\r\nimport Contacts from \"./components/Contacts\";\r\nimport Notification from \"./components/Notification\";\r\nimport contactService from \"./services/contacts\";\r\nimport \"./App.css\";\r\n\r\nconst App = () => {\r\n  const [contacts, setContacts] = useState([]);\r\n  const [searchFilter, setSearchFilter] = useState(\"\");\r\n  const [successMessage, setSuccessMessage] = useState(null);\r\n  const [errorMessage, setErrorMessage] = useState(null);\r\n  const [newContact, setNewContact] = useState({\r\n    name: \"\",\r\n    number: \"\"\r\n  });\r\n\r\n  useEffect(() => {\r\n    contactService.getAll().then(initialContacts => {\r\n      setContacts(initialContacts);\r\n    });\r\n  }, []);\r\n\r\n  const handleInputChange = ({ target: { name, value } }) => {\r\n    if (name === \"filter\") {\r\n      setSearchFilter(value);\r\n    } else {\r\n      setNewContact({\r\n        ...newContact,\r\n        [name]: value\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    const { name, number } = newContact;\r\n\r\n    const newContactData = { name, number };\r\n\r\n    const findContact = contacts.find(\r\n      contact => contact.name.toLowerCase() === name.toLowerCase()\r\n    );\r\n\r\n    if (findContact && findContact.number === number) {\r\n      return alert(\r\n        `${findContact.name} and phone number is already in the phonebook`\r\n      );\r\n    } else if (findContact && number) {\r\n      const answer = window.confirm(\r\n        `${findContact.name} is already added to phonebook, replace the old number with a new one?`\r\n      );\r\n      if (answer && number) {\r\n        contactService\r\n          .update(findContact.id, newContactData)\r\n          .then(returnedContact => {\r\n            setContacts(\r\n              contacts.map(contact =>\r\n                contact.id === returnedContact.id ? returnedContact : contact\r\n              )\r\n            );\r\n            setNewContact({ name: \"\", number: \"\" });\r\n            setSuccessMessage(\r\n              `Phone number of ${returnedContact.name} changed successfully`\r\n            );\r\n            setTimeout(() => {\r\n              setSuccessMessage(null);\r\n            }, 5000);\r\n          })\r\n          .catch(err => {\r\n            console.log(err);\r\n            setContacts(\r\n              contacts.filter(contact => contact.id !== findContact.id)\r\n            );\r\n            setErrorMessage(\r\n              `the contact of '${findContact.name}' was already deleted from server`\r\n            );\r\n            setTimeout(() => setErrorMessage(null), 5000);\r\n          });\r\n      }\r\n    } else {\r\n      contactService\r\n        .create(newContactData)\r\n        .then(returnedContact => {\r\n          setContacts([...contacts, returnedContact]);\r\n          setNewContact({ name: \"\", number: \"\" });\r\n          setSuccessMessage(`Added ${returnedContact.name} to phonebook`);\r\n          setTimeout(() => setSuccessMessage(null), 5000);\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n          setErrorMessage(`Error: ${err.response.data.error}`);\r\n          setTimeout(() => setErrorMessage(null), 5000);\r\n        });\r\n    }\r\n  };\r\n\r\n  const deleteContact = id => {\r\n    contactService.remove(id).then(() => {\r\n      contactService.getAll().then(changedContacts => {\r\n        setContacts(changedContacts);\r\n      });\r\n    });\r\n  };\r\n\r\n  const filteredContacts = searchFilter\r\n    ? contacts.filter(e =>\r\n        e.name.toLowerCase().includes(searchFilter.toLowerCase())\r\n      )\r\n    : contacts;\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <h2>Phonebook</h2>\r\n      <Notification error={errorMessage} success={successMessage} />\r\n      <h3>Add a new contact</h3>\r\n      <ContactForm\r\n        newContact={newContact}\r\n        handleSubmit={handleSubmit}\r\n        handleInputChange={handleInputChange}\r\n      />\r\n      <h3>Phone numbers</h3>\r\n      <SearchFilter\r\n        searchValue={searchFilter}\r\n        handleInputChange={handleInputChange}\r\n      />\r\n      <Contacts\r\n        filteredContacts={filteredContacts}\r\n        deleteContact={deleteContact}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}